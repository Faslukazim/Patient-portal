import{c as l,r as h,a as v,b as y,d as L,_ as E,e as P,o as k,f as R,g as I,h as O,s as w,i as A,j as C,C as S,I as b,k as j}from"./vendor.41cb6c45.js";const x=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const n of o.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&s(n)}).observe(document,{childList:!0,subtree:!0});function c(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerpolicy&&(o.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?o.credentials="include":e.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(e){if(e.ep)return;e.ep=!0;const o=c(e);fetch(e.href,o)}};x();const D="modulepreload",d={},$="/assets/patientportal/patient-portal/",m=function(t,c){return!c||c.length===0?t():Promise.all(c.map(s=>{if(s=`${$}${s}`,s in d)return;d[s]=!0;const e=s.endsWith(".css"),o=e?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${s}"]${o}`))return;const n=document.createElement("link");if(n.rel=e?"stylesheet":D,e||(n.as="script",n.crossOrigin=""),n.href=s,document.head.appendChild(n),e)return new Promise((_,g)=>{n.addEventListener("load",_),n.addEventListener("error",g)})})).then(()=>t())},f=l({url:"frappe.auth.get_logged_user",cache:"User",onError(r){r&&r.exc_type==="AuthenticationError"&&u.push({name:"LoginPage"})}});function p(){let t=new URLSearchParams(document.cookie.split("; ").join("&")).get("user_id");return t==="Guest"&&(t=null),t}const i=h({login:l({url:"login",makeParams({email:r,password:t}){return{usr:r,pwd:t}},onSuccess(r){f.reload(),i.user=p(),i.login.reset(),u.replace(r.default_route||"/")}}),logout:l({url:"logout",onSuccess(){f.reset(),i.user=p(),u.replace({name:"Login"})}}),signup:l({url:"signup",makeParams({email:r,password:t,fullName:c}){return{usr:r,pwd:t,full_name:c}},onSuccess(r){i.user=p(),i.signup.reset(),u.replace(r.default_route||"/")}}),user:p(),isLoggedIn:v(()=>!!i.user)}),N=[{path:"/",name:"Departments",component:()=>m(()=>import("./Departments.14178522.js"),["assets/Departments.14178522.js","assets/vendor.41cb6c45.js","assets/vendor.f874cace.css","assets/Header.bc448318.js","assets/Header.62dd1731.css"])},{path:"/home",name:"Home",component:()=>m(()=>import("./Home.899e17ff.js"),["assets/Home.899e17ff.js","assets/Home.52f2074b.css","assets/vendor.41cb6c45.js","assets/vendor.f874cace.css","assets/Header.bc448318.js","assets/Header.62dd1731.css","assets/index.f5e9f9ce.js","assets/index.65634b47.css"])},{name:"Login",path:"/account/login",component:()=>m(()=>import("./Login.24c73a2c.js"),["assets/Login.24c73a2c.js","assets/Login.c16790be.css","assets/vendor.41cb6c45.js","assets/vendor.f874cace.css","assets/index.f5e9f9ce.js","assets/index.65634b47.css"])}];let u=y({history:L("/patient-portal"),routes:N});const U={};function V(r,t){const c=P("router-view");return k(),R("div",null,[I(c)])}var q=E(U,[["render",V]]);let a=O(q);w("resourceFetcher",j);a.use(u);a.use(A);a.component("Button",C);a.component("Card",S);a.component("Input",b);a.mount("#app");export{i as s};
