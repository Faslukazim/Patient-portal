import{c as l,r as h,a as v,b as y,d as L,_ as E,e as P,o as k,f as R,g as I,h as O,s as b,i as w,j as A,C,I as S,k as j}from"./vendor.b0ace054.js";const D=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const n of o.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&s(n)}).observe(document,{childList:!0,subtree:!0});function i(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerpolicy&&(o.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?o.credentials="include":e.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(e){if(e.ep)return;e.ep=!0;const o=i(e);fetch(e.href,o)}};D();const $="modulepreload",d={},x="/assets/patientportal/patient-portal/",m=function(t,i){return!i||i.length===0?t():Promise.all(i.map(s=>{if(s=`${x}${s}`,s in d)return;d[s]=!0;const e=s.endsWith(".css"),o=e?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${s}"]${o}`))return;const n=document.createElement("link");if(n.rel=e?"stylesheet":$,e||(n.as="script",n.crossOrigin=""),n.href=s,document.head.appendChild(n),e)return new Promise((_,g)=>{n.addEventListener("load",_),n.addEventListener("error",g)})})).then(()=>t())},f=l({url:"frappe.auth.get_logged_user",cache:"User",onError(r){r&&r.exc_type==="AuthenticationError"&&u.push({name:"LoginPage"})}});function p(){let t=new URLSearchParams(document.cookie.split("; ").join("&")).get("user_id");return t==="Guest"&&(t=null),t}const c=h({login:l({url:"login",makeParams({email:r,password:t}){return{usr:r,pwd:t}},onSuccess(r){f.reload(),c.user=p(),c.login.reset(),u.replace(r.default_route||"/")}}),logout:l({url:"logout",onSuccess(){f.reset(),c.user=p(),u.replace({name:"Login"})}}),signup:l({url:"signup",makeParams({email:r,password:t,fullName:i}){return{usr:r,pwd:t,full_name:i}},onSuccess(r){c.user=p(),c.signup.reset(),u.replace(r.default_route||"/")}}),user:p(),isLoggedIn:v(()=>!!c.user)}),N=[{path:"/",name:"Departments",component:()=>m(()=>import("./Departments.c50e0181.js"),["assets/Departments.c50e0181.js","assets/vendor.b0ace054.js","assets/vendor.f874cace.css"])},{path:"/home",name:"Home",component:()=>m(()=>import("./Home.0b44667f.js"),["assets/Home.0b44667f.js","assets/vendor.b0ace054.js","assets/vendor.f874cace.css"])},{name:"Login",path:"/account/login",component:()=>m(()=>import("./Login.7fde6a74.js"),["assets/Login.7fde6a74.js","assets/Login.596a75ee.css","assets/vendor.b0ace054.js","assets/vendor.f874cace.css"])}];let u=y({history:L("/patient-portal"),routes:N});const U={};function V(r,t){const i=P("router-view");return k(),R("div",null,[I(i)])}var q=E(U,[["render",V]]);let a=O(q);b("resourceFetcher",j);a.use(u);a.use(w);a.component("Button",A);a.component("Card",C);a.component("Input",S);a.mount("#app");
